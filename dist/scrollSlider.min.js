!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):a.ScrollSlider=b(jQuery)}(this,function(a){function b(a,b){this.initialize.apply(this,arguments)}var c=this,d=0,e=a(c);return b.defaults={scrollerSelector:":first-child",animatedElSelector:"ul, ol",itemSelector:"li",slideWidth:.5,arrowWrapClass:"scrollSliderArrows",arrowNextClass:"scrollSliderArrowNext",arrowPrevClass:"scrollSliderArrowPrev",arrowDisabledClass:"scrollSliderArrowDisabled",hasArrowsClass:"scrollSliderHasArrows",touchClass:"scrollSliderTouch",arrowPrevText:"Prev",arrowNextText:"Next",continuous:!1,isTouch:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},a.extend(b.prototype,{initialize:function(c,e){this.$el=a(c),this.ens=".ScrollSlider"+ ++d,this.options=a.extend({},b.defaults,e),this.$scroller=this.$el.find(this.options.scrollerSelector),this.$animatedEl=this.$el.find(this.options.animatedElSelector).eq(0),this.$items=this.$el.find(this.options.itemSelector),this.setup(),this.setupEvents()},setup:function(){this.animatedElWidth=this.$animatedEl.outerWidth(),this.options.isTouch?this.$scroller.addClass(this.options.touchClass):(this.slideOffset=0,this.context="first",this.elSize=this.$el.outerWidth(),"function"==typeof this.options.slideWidth?this.slideSize=this.options.slideWidth(this):this.slideSize=this.elSize*parseFloat(this.options.slideWidth),this.setupArrows(),this.elPadding=parseInt(this.$el.css("padding-left"),10),this.animate(0))},setupEvents:function(){var a=this;e.on("resize"+this.ens,function(){a.elSize&&a.$el.outerWidth()!==a.elSize&&a.setup()})},slideNext:function(){var a=this.slideOffset+this.slideSize;a+this.elSize>this.animatedElWidth?this.animatedElWidth-this.slideOffset-this.elSize>0?(this.slideOffset=this.animatedElWidth-this.elSize+2*this.elPadding,this.context="last"):this.options.continuous?(this.context="first",this.slideOffset=0):this.context="last":(this.context="inBetween",this.slideOffset=a),this.animate(this.slideOffset).setupArrows()},slidePrev:function(){var a=this.slideOffset-this.slideSize;0>=a?0!==this.slideOffset&&this.slideOffset<=this.elSize?(this.slideOffset=0,this.context="first"):this.options.continuous?(this.slideOffset=this.animatedElWidth-this.elSize+2*this.elPadding,this.context="last"):(this.slideOffset=0,this.context="first"):("last"===this.context?this.slideOffset=this.slideSize*Math.floor((this.animatedElWidth-this.elSize)/this.slideSize):this.slideOffset-=this.slideSize,this.context="inBetween"),this.animate(this.slideOffset).setupArrows()},scrollTo:function(a){var b=this.$items.eq(a),c=b.offset().left-this.$items.eq(0).offset().left,d=c-this.slideOffset;return this.options.isTouch?(this.offset=c,this.animate(c)):d+b.outerWidth()>this.elSize?this.slideNext():0>d&&this.slidePrev(),this},animate:function(a){return this.$scroller.stop().animate({scrollLeft:a},300),this},setupArrows:function(){var b=this,c=this.options;this.$arrows||(this.$arrows=a("<div>").addClass(this.options.arrowWrapClass),this.$arrowNext=a('<button type="button" class="'+c.arrowNextClass+'">'+c.arrowNextText+"</button>").appendTo(this.$arrows),this.$arrowPrev=a('<button type="button" class="'+c.arrowPrevClass+'">'+c.arrowPrevText+"</button>").appendTo(this.$arrows),this.$arrows.appendTo(this.$el).on("click"+this.ens,"button",function(d){var e=a(d.target);e.hasClass(c.arrowDisabledClass)||(e.hasClass(c.arrowNextClass)?b.slideNext():b.slidePrev())})),this.$el.toggleClass(c.hasArrowsClass,this.animatedElWidth>=this.elSize),this.options.continuous||(this.$arrowNext.toggleClass(c.arrowDisabledClass,"last"===this.context),this.$arrowPrev.toggleClass(c.arrowDisabledClass,"first"===this.context))},destroy:function(){e.off(this.ens),this.$el.off(this.ens),this.$arrows&&this.$arrows.remove()}}),a.ScrollSlider=b,a.fn.scrollSlider=function(c){return this.each(function(){a.data(this,"scrollSlider")||a.data(this,"scrollSlider",new b(this,c))})},a});